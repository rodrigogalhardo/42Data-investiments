@using Microsoft.AspNetCore.Identity
@using _42Data.Investiments.Web.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager


<div class="row border-bottom">
    <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
        <ul class="nav navbar-top-links navbar-right">

            @if (SignInManager.IsSignedIn(User))
            {
                var username = await UserManager.GetUserAsync(User).ContinueWith(t=>t.Result);
                <li>
                    <span class="m-r-sm text-muted welcome-message" data-i18n="topnav.welcometext">Welcome, @username.Name.ToUpperInvariant()</span>
                </li>
            }

            <li>
                <a href="@Url.Action("Logout", "Account")">
                    <i class="fa fa-sign-out"></i> Log out
                </a>
            </li>
        </ul>
    </nav>
</div>